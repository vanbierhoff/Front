!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=class{constructor(t){this.generation={name:{ManName:["Иван","Андрей","Вася","Петр","Роман","Олег"],ManTwoName:["Авдеев","Леондиов","Васильев","Петров","Безруков"],MaleName:["Света","Наталья","Оксана","Мария","Рита"],MaleTwoName:["Николаева","Андреева","Русская","Смольная"]},objects:{object:["Альфа 1 блок","ЛС 1Б","13 район","Альфа 3 блок","Бета 2"],axis:["АЫ-26","АР-13","БУ-15","БЗ-15","АЫ-20","УВ-20"],square:[35,45,47,65,50,55,24,100,61],number:"+7"}},this.name="",this.obj={},this.pattern={male:/male/i,man:/man/i,number:/^[+]?\d{1}\(?\d{3}\)?[\d\-]{3,6}[\-\d]{3,6}$/i,name:/^[a-zа-я]{2,30}/i},this.divContactor=document.querySelector(".form-contractor"),this.input=document.querySelectorAll(".form-input"),this.btnSend=document.querySelector(".form-button__send"),this.loadBtn=document.querySelector(".form-button__load"),this.tableTdSpan=document.querySelectorAll(".table-td-span__square"),this.btnSortDowm=document.querySelector(".img-sort-down"),this.__getListener()}__getName(){let t=1,e=2;t=Math.ceil(t),e=Math.floor(e);let n=`${Math.floor(Math.random()*(e-t+1))+t}`;this.name="","1"===n?this.MaleName():"2"===n?this.ManName():null==n&&console.log("Ошибка генератора чисел")}ManName(){for(var t in this.generation.name)if(this.pattern.man.test(t)){let e=this.generation.name[t].length,n=this.generation.name[t][this.randomNumber(e)];this.name+=`${n} `}}MaleName(){for(var t in this.generation.name)if(this.pattern.male.test(t)){let e=this.generation.name[t].length,n=this.generation.name[t][this.randomNumber(e)];this.name+=`${n} `}}randomNumber(t){let e=t-1;return`${Math.floor(Math.random()*(e-0+1))+0}`}getPhone(){let t=0;for(t=0;t<=7;t++)this.obj.number+=this.randomNumber(9)}getObj(){for(var t in this.generation.objects){let e=this.generation.objects[t].length;this.obj[t]=this.generation.objects[t][this.randomNumber(e)]}this.obj.numberHome=`${this.randomNumber(1001)}`}__getListener(){this.input.forEach(t=>{"phone"===t.dataset.input?this.testPhone(t):"name"===t.dataset.input&&this.testName(t)}),this.btnSortDowm.addEventListener("click",()=>{this.spoiler()})}testPhone(t){t.addEventListener("input",()=>{this.pattern.number.test(t.value)?t.classList.toggle("green-border",!0):t.classList.toggle("green-border",!1)})}testName(t){t.addEventListener("input",()=>{this.pattern.name.test(t.value)?t.classList.toggle("green-border",!0):t.classList.toggle("green-border",!1)})}spoiler(){document.querySelector(".square-table").classList.toggle("display-none")}}},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r);class a extends o.a{constructor(){super(name),this.name,this.descriptData=document.querySelectorAll(".description-data"),this.select=document.getElementById("type-of-property"),this.btnAddCont=document.querySelector(".form-button__addContactor"),this.__addListener(),this.__loadForm()}__selectType(){this.select.addEventListener("change",()=>{this.descriptData.forEach(t=>{this.getObj(),this.getPhone();for(let t=0;t<this.tableTdSpan.length;t++)this.tableTdSpan[t].innerHTML=`${this.obj.square}м2`;for(var e in this.obj){if(console.log(this.obj[e]),t.dataset.type===e)return void(t.innerHTML=this.obj[e]);"NumberHome"===t.dataset.type&&(t.innerHTML=this.randomNumber(1e3))}console.log(t.dataset.type)})})}__addListener(){this.btnSend.addEventListener("click",()=>{event.preventDefault(),this.addSend()}),this.btnAddCont.addEventListener("click",()=>{event.preventDefault(),this.addContactor()})}addContactor(){this.divContactor.insertAdjacentHTML("beforeend",' <div class="input-wrapper input-wrapper__mr">\n<input type="text" class="form-input__contactor form-input"data-input=\'name\' placeholder="ФИО"> \n<input type="text"  class="form-input__phone form-input" data-input=\'phone\' placeholder="+7(999)999-99-99">\n</div>'),this.input=document.querySelectorAll(".form-input")}addSend(){let t=[];for(let e=0;e<=`${this.input.length-1}`;e++)this.pattern.name.test(this.input[e].value)?t.push(this.input[e].value):this.pattern.name.test(this.input[e].value&&"name"===this.input[e].dataset.input)||(this.__getName(),t.push(this.name),alert("Вы не указали участника договора, в рамках задания оно было создано автоматически")),this.obj,this.getObj();let e=[{nameCont:t,object:this.obj}];this.AjaxFetch(e)}AjaxFetch(t){fetch("http://localhost:3005/formcont",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>200!==e.status?(console.log(t),Promise.reject()):e.json()).then(t=>{alert(`${t.nameCont} \n       ${t.object.axis}\n       ${t.object.object}\n       ${t.object.square}\n       `)}).catch(t=>{console.log(t)})}__loadForm(){this.loadBtn.addEventListener("click",()=>{event.preventDefault(),this.GetformAjax()})}GetformAjax(){fetch("http://localhost:3005/getform").then(t=>t.json()).then(t=>{this.parserLoad(t)}).catch(t=>{console.log(t)})}parserLoad(t){for(let e in t)if(Array.isArray(t[e])){let n=document.querySelectorAll(".input-wrapper");for(;n.length<t[e][0].name.length;)this.addContactor(),n=document.querySelectorAll(".input-wrapper");for(;n.length>t[e][0].name.length;){n[n.length-1].remove(),n=document.querySelectorAll(".input-wrapper")}this.input=document.querySelectorAll(".form-input");let r=0,o=0;this.__getListener(),this.input.forEach(e=>{"name"===e.dataset.input?(e.value=t.people[0].name[r],e.classList.toggle("green-border",!0),r++):"phone"===e.dataset.input&&(e.value=t.people[0].phone[o],e.classList.toggle("green-border",!0),o++)})}else if("object"==typeof t[e]&&!Array.isArray(t[e])){for(let n=0;n<this.tableTdSpan.length;n++)this.tableTdSpan[n].innerHTML=`${t[e].square} м2`;for(let n in t[e])this.descriptData.forEach(r=>{r.dataset.type===n&&(r.innerHTML=t[e][n])})}}}let i="";(i=new a).__selectType();n(1)}]);